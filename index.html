<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<html lang="en">

<head>
    <title>QantasGroupAero - Home</title>

    <link type="text/css" rel="stylesheet" href="qga_style.css" />
    <meta charset="utf-8" />
</head>

<script>
    function SanatizeText(text) {
        text = text.replace('<script>', '');
        text = text.replace('<style>', '');
        return text;
    }
</script>

<body>
    <div class="major-alerts-wrapper">
        <template>
            <div class="major-alert"> <!--major-alert Template to Populate-->
                <img src="images/icons/alert_warning.png" alt="warning icon" class="icon" />
                <p>INSERT-ALERT-TEXT</p>
            </div>
        </template>

        <script>
            function ClearAllMajorAlerts() {
                let alertWrapper = document.querySelector("div.major-alerts-wrapper");
                if (!alertWrapper) {
                    console.log("known:document -> div.major-alerts-wrapper, element not found.");
                    return;
                }

                let majortAlertDivs = alertWrapper.querySelectorAll("div.major-alert");
                if (!majortAlertDivs) {
                    console.log("found:alertWrapper all-> div.major-alert, elements not found.");
                    return;
                }

                majortAlertDivs.forEach(divElement => divElement.remove());
            }
            function AddMajorAlert(text) {
                let alertWrapper = document.querySelector("div.major-alerts-wrapper");
                if (!alertWrapper) {
                    console.log("known:document -> div.major-alerts-wrapper, element not found.");
                    return;
                }
                let templateContainer = alertWrapper.querySelector("template");
                if (!templateContainer) {
                    console.log("found:alertWrapper -> template, element not found.");
                    return;
                }
                let majorAlertDivTemplate = templateContainer.content.querySelector("div.major-alert"); //.content is required because a webpage will place the contents of a <template> tag inside a #document-fragment
                if (!majorAlertDivTemplate) {
                    console.log("found:templateContainer -> div.major-alert, element not found.");
                    return;
                }

                let newMajorAlert = majorAlertDivTemplate.cloneNode(true); //cloneNode(deep) deep is whether to clone node descendants (children) 
                let alertParagraph = newMajorAlert.querySelector("p");
                if (!alertParagraph) {
                    console.log("found:majorAlertDivTemplate -> p, element not found.")
                    return;
                }
                let paragraphs = text.split('\n');
                alertParagraph.textContent = paragraphs[0];

                for (let i = 1; i < paragraphs.length; i++) {
                    let paragraph = paragraphs[i];
                    alertParagraph.appendChild(document.createElement("br"));
                    alertParagraph.innerHTML += SanatizeText(paragraph);
                }

                alertWrapper.appendChild(newMajorAlert);
            }

            function ReadAlerts() {
                ClearAllMajorAlerts();
                AddMajorAlert("Website is currently under construction, expect bugs and missing features\nReport all problems to the discord");
            }

            ReadAlerts();
        </script>
    </div>
    <header>
        <div>
            <img src="images/logos/qga_wordmark.png" alt="QGA Wordmark" height="75px" class="main_logo">
        </div>
    </header>
    <nav class="navbar_main">
        <script>
            //Set's nav.navbar_main top for stickiness to the offsetHeight of the div.major-alerts-wrapper

            function AdjustNavbarTopToAlertWrapperHeight() {
                let navbar = document.querySelector("nav.navbar_main");
                let alertWrapper = document.querySelector("div.major-alerts-wrapper");

                if (navbar && alertWrapper) {
                    if (alertWrapper.offsetHeight < 1) {
                        navbar.style.top = "-0.1px"
                    } else {
                        navbar.style.top = `${alertWrapper.offsetHeight}px`;
                    }
                } else {
                    console.log("nav.navbar_main or div.major-alerts-wrapper element not found.");
                }
            }
            AdjustNavbarTopToAlertWrapperHeight();
        </script>
        <ul>
            <li class="navbar_active">Home</li>
            <li><a href="#">Our Discord</a></li>
            <li><a href="#">About Us</a>
                <ul class="navbar_subbar">
                    <li><a href="#">Hubs and Destinations</a></li>
                    <li><a href="#">Our Fleet</a></li>
                    <li><a href="#">Careers and Salary</a></li>
                    <li><a href="#">Our Subsidiaries</a></li>
                </ul>
            </li>
            <li><a href="index.html">For Our Pilots</a>
                <ul class="navbar_subbar">
                    <li><a href="index.html">Log Flights</a></li>
                    <li><a href="index.html">View Flight Logs</a></li>
                    <li><a href="index.html">Request Salary</a></li>
                </ul>
            </li>
        </ul>
    </nav>



    <main>
        <div class="image-container">
            <div class="colour-section-Bright_Red">
                <img src="images/banners/RobloxScreenShot20230927_135637354.png" alt="a cycling banner" width="100%" />
                <div class="centre-text">
                    <div class="background-layout-section">
                        <h1>Welcome to Qantas Group Aeronautica</h1>
                        <p>The Spirit of Australia is now in Roblox Aeronautica!</p>
                        <p>We hope to see you in our skies soon!</p>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="colour-section-Light_Grey">
            <div class="background-layout-section">
                <h1>Lorem Ipsum</h1>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem a vitae nemo obcaecati nulla quidem aliquam fugit minima aliquid suscipit quos est pariatur porro ad debitis, magni similique error ipsum!</p>
            </div>
        </div>
        <div class="colour-section-White">
            <div class="background-layout-section">
                <h1>Lorem Ipsum</h1>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem a vitae nemo obcaecati nulla quidem aliquam fugit minima aliquid suscipit quos est pariatur porro ad debitis, magni similique error ipsum!</p>
            </div>
        </div>
    </main>

    <footer>

    </footer>
</body>

</html>